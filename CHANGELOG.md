# Changelog

## 2025-11-07
- **NEW FEATURE**: Current Buybox Owners Lookup Tool
  - Added new "Current Buybox Owners" feature to fetch real-time buybox ownership data
  - Implemented `get_current_buybox_owner()` method to retrieve current owner for any ASIN
  - Returns current owner ID, owner type (Amazon/3rd Party), last update timestamp, and product title
  - Created dedicated input interface with single and batch processing modes
  - Added support for loading ASINs from saved lists or manual entry
  - Implemented tabular results display showing all ownership details at a glance
  - Added CSV export functionality for current owner data
  - Integrated progress tracking for batch owner lookups
- **NEW FEATURE**: ASIN Manager as Standalone Tool
  - Added "ASIN Manager" button to main menu for easy access
  - Created standalone ASIN Manager window (900x700) with enhanced functionality
  - Organized interface with four tabs: Add ASINs, Manage Lists, Edit List, and All ASINs
  - Implemented comprehensive ASIN list management with create, remove, and clear operations
- **NEW FEATURE**: Import/Export ASIN Lists
  - Added export functionality to share ASIN lists in JSON format
  - Export single selected list or all lists at once
  - Implemented smart import with conflict resolution options:
    - Merge: Combine imported ASINs with existing lists (no duplicates)
    - Replace: Overwrite existing lists with imported data
    - Skip: Only import non-conflicting lists
  - JSON format ensures compatibility and easy sharing between users
  - Export includes list metadata (descriptions, ASIN counts)
- **NEW FEATURE**: Edit List Tab for Advanced List Management
  - Added dedicated "Edit List" tab in ASIN Manager for comprehensive editing
  - Implemented list renaming capability with duplicate name validation
  - Added description editing with real-time updates
  - Created ASIN viewer showing all ASINs in selected list with count display
  - Implemented multi-select ASIN removal (using EXTENDED selectmode)
  - Added single ASIN addition with validation and duplicate checking
  - Auto-refresh functionality keeps Edit List tab synchronized with other operations
  - Handles edge cases when lists are renamed or deleted from other tabs
- **UI IMPROVEMENTS**: Enhanced user interface and usability
  - Doubled main menu window size from 500x500 to 1000x1000 for better visibility
  - Added prominent Submit button within batch processing frame for improved workflow
  - Removed exit confirmation dialog for smoother application closure
  - Enhanced batch mode with dedicated submit button after load operations
  - Improved button placement and layout consistency across all windows
  - Larger text areas in ASIN Manager for better usability
- **MAIN MENU**: Expanded unified application interface
  - Integrated "Current Buybox Owners" button with descriptive tooltip
  - Added "ASIN Manager" button for centralized list management
  - Maintained consistent design pattern across all tools
  - Added proper error handling and user feedback for all operations
  - Implemented return-to-menu workflow after completion
- **CODE QUALITY**: Architecture improvements and maintainability
  - Extended BuyboxAnalyzer class with new methods following existing patterns
  - Centralized ASIN management functions for reuse across application
  - Maintained Single Responsibility Principle across all modules
  - Added comprehensive error handling for API failures, file I/O, and edge cases
  - Implemented consistent data structure returns for easy integration
  - Enhanced import functionality with intelligent conflict resolution

## 2025-01-27
- **NEW FEATURE**: Implemented batch processing functionality for multiple ASINs
  - Added "Batch Processing" mode alongside existing "Single ASIN" mode
  - Created large text area for entering multiple ASINs (comma, space, or newline separated)
  - Added "Load All Saved ASINs" and "Load from List" quick-load buttons for batch input
  - Implemented progress tracking with visual progress bar and status updates
  - Added comprehensive error handling for individual ASIN processing failures
  - Enhanced results display to show batch analysis with grouped results by ASIN
  - Updated CSV export to handle multiple ASIN results in a single file
- **UI IMPROVEMENTS**: Enhanced ASIN Manager with multiple named lists
  - Increased ASIN Manager window size to 800x600 for better visibility
  - Implemented tabbed interface (Notebook) with "Add ASINs", "Manage Lists", and "All ASINs" tabs
  - Added support for multiple named ASIN lists with descriptions
  - Created list management features: create, remove, and clear lists
  - Added real-time synchronization between ASIN Manager and main application
  - Implemented immediate UI updates when ASINs are added/removed from lists
- **UI FIXES**: Resolved window positioning and layout issues
  - Fixed manual input field being disabled when "Manual Input" was selected
  - Added dynamic window sizing (600x600 for single mode, 600x700 for batch mode)
  - Centered "Select List" dialog window on screen instead of top-left corner
  - Centered "Processing ASINs" progress window on screen
  - Fixed submit button visibility in batch processing mode
- **CODE QUALITY**: Improved application architecture and user experience
  - Separated single ASIN and batch processing logic for better maintainability
  - Added comprehensive input validation for batch ASIN processing
  - Implemented proper error handling and user feedback throughout the application
  - Enhanced ASIN validation with detailed error messages for invalid ASINs
  - Added keyboard shortcuts (Enter to submit, Escape to cancel)

## 2025-08-04
- **NEW FEATURE**: Created `sales_rank_analyzer.py` - A comprehensive sales rank analysis tool
  - Added `SalesRankAnalyzer` class following Single Responsibility Principle
  - Implemented sales rank history fetching from Keepa API using correct `salesRanks` field
  - Added intelligent category selection algorithm to choose the most relevant sales rank data
  - Created GUI interface for user input (ASIN, days to analyze, export options)
  - Added comprehensive statistics calculation (average, min, max, rank changes)
  - Implemented CSV export functionality for sales rank history
  - Added robust error handling and input validation
- **BUG FIX**: Corrected sales rank data parsing
  - Fixed incorrect use of `csv` field (price data) instead of `salesRanks` field
  - Implemented proper category selection algorithm to identify best sales rank category
  - Added scoring system to prefer categories with lower average ranks and more data points
  - Resolved data structure parsing issues with Keepa API response format
- **DOCUMENTATION**: Updated README.md with sales rank analyzer documentation
  - Added explanation of Keepa API limitations for category-level data
  - Documented individual product sales rank analysis capabilities
  - Updated usage instructions for both buybox tracker and sales rank analyzer
- **CODE QUALITY**: Improved project structure and maintainability
  - Separated concerns between buybox analysis and sales rank analysis
  - Added comprehensive comments and documentation
  - Implemented consistent error handling patterns
  - Added temporary debug capabilities (commented out for production use)

## 2025-07-21
- Project created: Keepa API Buybox Tracker.
- Added `.env` file for Keepa API key management.
- Created `requirements.txt` with dependencies: requests, python-dotenv, pandas.
- Developed initial Python script to fetch buybox history and calculate Amazon's buybox percentage for a selected month and ASIN.
- Fixed bug: Convert buybox history timestamps to integer for correct datetime conversion.
- Corrected Amazon seller ID to `ATVPDKIKX0DER`.
- Added debug output to inspect DataFrame and seller IDs.
- Added tkinter popup for user input (ASIN, year, month).
- Added option to save DataFrame to CSV via file dialog.
- Made file export optional (user chooses via popup).
- Enhanced script to allow calculation of buybox % for multiple months in one API call (user enters months as comma-separated values).
- Improved user experience with popups for all major inputs and options.
- Created `README.md` and `CHANGELOG.md` files documenting project purpose and changes.